
**–ò—Ç–µ—Ä–∞—Ü–∏—è –≤ Python**¬†‚Äî —ç—Ç–æ –∫–æ–≥–¥–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –ø–æ –æ—á–µ—Ä–µ–¥–∏ –ø–µ—Ä–µ–±–∏—Ä–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –∏–∑ —Å–ø–∏—Å–∫–∞, —Å—Ç—Ä–æ–∫–∏ –∏–ª–∏ –¥—Ä—É–≥–æ–π —ç–ª–µ–º–µ–Ω—Ç –¥–∞–Ω–Ω—ã—Ö.

–ò—Ç–µ—Ä–∏—Ä—É–µ–º—ã–π –æ–±—ä–µ–∫—Ç ‚Äî —ç—Ç–æ –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –ø–µ—Ä–µ–±—Ä–∞—Ç—å –≤ —Ü–∏–∫–ª–µ `for`, –ø–æ—Ç–æ–º—É —á—Ç–æ —É –Ω–µ–≥–æ –µ—Å—Ç—å –º–µ—Ç–æ–¥ `__iter__()`, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–π –∏—Ç–µ—Ä–∞—Ç–æ—Ä.

–ò—Ç–µ—Ä–∞—Ç–æ—Ä - —ç—Ç–æ –æ–±—å–µ–∫—Ç –∫–æ—Ç–æ—Ä—ã–π :

- —Ä–µ–∞–ª–∏–∑—É–µ—Ç –º–µ—Ç–æ–¥ `__next__()` ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–π —ç–ª–µ–º–µ–Ω—Ç;
- —Ä–µ–∞–ª–∏–∑—É–µ—Ç –º–µ—Ç–æ–¥ `__iter__()` ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç **—Å–∞–º–æ–≥–æ —Å–µ–±—è**.
  
  üìå –ò—Ç–µ—Ä–∞—Ç–æ—Ä **–ø–æ–º–Ω–∏—Ç —Å–≤–æ—ë —Å–æ—Å—Ç–æ—è–Ω–∏–µ** –∏ –∑–Ω–∞–µ—Ç, –∫–∞–∫–æ–π —ç–ª–µ–º–µ–Ω—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–º.

**–ò—Ç–µ—Ä–∏—Ä—É–µ–º—ã–π –æ–±—ä–µ–∫—Ç –∏ –∏—Ç–µ—Ä–∞—Ç–æ—Ä –º–æ–≥—É—Ç –±—ã—Ç—å –¥–≤—É–º—è —Ä–∞–∑–Ω—ã–º–∏ –∫–ª–∞—Å—Å–∞–º–∏.**  
–ò —ç—Ç–æ –∞–±—Å–æ–ª—é—Ç–Ω–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –∞ –∏–Ω–æ–≥–¥–∞ –¥–∞–∂–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ.

‚ùå –ö–æ–≥–¥–∞ –∏—Ç–µ—Ä–∞—Ç–æ—Ä –¥–æ—Ö–æ–¥–∏—Ç –¥–æ –∫–æ–Ω—Ü–∞ ‚Äî –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –∏—Å–∫–ª—é—á–µ–Ω–∏–µ:

```
StopIteration
```


***—Ü–∏–∫–ª for –∫–∞–∫ –ø—Ä–∏–º–µ—Ä –∏—Ç–µ—Ä–∞—Ç–æ—Ä–∞***

–ö–æ–≥–¥–∞ —Ç—ã –ø–∏—à–µ—à—å:

```
for x in [1, 2, 3]:
    print(x)
```

_iter = iter([1, 2, 3])     # –ø–æ–ª—É—á–∞–µ–º –∏—Ç–µ—Ä–∞—Ç–æ—Ä –∏–∑ –∏—Ç–µ—Ä–∏—Ä—É–µ–º–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞

## üîÑ –ü–æ–¥—Ä–æ–±–Ω—ã–π —Ä–∞–∑–±–æ—Ä:

| –®–∞–≥ | –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç                                                  |
| --- | --------------------------------------------------------------- |
| 1Ô∏è‚É£ | `iter(–æ–±—ä–µ–∫—Ç)` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è ‚Üí —Å–æ–∑–¥–∞—ë—Ç—Å—è –∏—Ç–µ—Ä–∞—Ç–æ—Ä                  |
| 2Ô∏è‚É£ | `next(–∏—Ç–µ—Ä–∞—Ç–æ—Ä)` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–π —Ä–∞–∑ –≤ —Ü–∏–∫–ª–µ                  |
| 3Ô∏è‚É£ | –ü–æ–∫–∞ `next()` –Ω–µ –≤—ã–±—Ä–æ—Å–∏—Ç `StopIteration` ‚Äî —Ü–∏–∫–ª –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è   |
| 4Ô∏è‚É£ | –ö–∞–∫ —Ç–æ–ª—å–∫–æ `StopIteration` ‚Äî `for` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Ü–∏–∫–ª |
   
‚öôÔ∏è –ß—Ç–æ —Ç–∞–∫–æ–µ **–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä**?   


**–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä** ‚Äî —ç—Ç–æ **—Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± —Å–æ–∑–¥–∞—Ç—å –∏—Ç–µ—Ä–∞—Ç–æ—Ä**, –∫–æ—Ç–æ—Ä—ã–π **–ø–æ–º–Ω–∏—Ç —Å–≤–æ—ë —Å–æ—Å—Ç–æ—è–Ω–∏–µ** –∏ **–ª–µ–Ω–∏–≤–æ (–ø–æ –∑–∞–ø—Ä–æ—Å—É) –≤—ã–¥–∞—ë—Ç –∑–Ω–∞—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ `yield`**.

–ß—Ç–æ –≤–æ–∑–≤—Ä–∞—â—è–µ—Ç –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä  –∏—Ç–µ—Ä–∏—Ä—É–µ–º—ã–π –æ–±—å–µ–∫—Ç –∏–ª–∏ —á—Ç–æ —Ç–æ –¥—Ä—É–≥–æ–µ?|
**–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Ç–µ—Ä–∞—Ç–æ—Ä**, –∞ **–∏—Ç–µ—Ä–∞—Ç–æ—Ä ‚Äî —ç—Ç–æ –∏—Ç–µ—Ä–∏—Ä—É–µ–º—ã–π –æ–±—ä–µ–∫—Ç.**
‚úÖ **–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä ‚Äî —ç—Ç–æ –∏ –∏—Ç–µ—Ä–∞—Ç–æ—Ä, –∏ –∏—Ç–µ—Ä–∏—Ä—É–µ–º—ã–π –æ–±—ä–µ–∫—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.**

## –ß–µ–º –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –∏—Ç–µ—Ä–∞—Ç–æ—Ä–∞?:

 –ì–ª–∞–≤–Ω–æ–µ –æ—Ç–ª–∏—á–∏–µ ‚Äî –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–æ–∑–¥–∞—ë—Ç—Å—è –ø—Ä–æ—â–µ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º.**

**–∫–∞–∫ –º—ã –º–æ–∂–µ–º –Ω–∞–ø–∏—Å–∞—Ç—å —Å–≤–æ–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä?**
–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –º–æ–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å **–¥–≤—É–º—è —Å–ø–æ—Å–æ–±–∞–º–∏**:

‚Äî —á–µ—Ä–µ–∑ `yield`
```
def my_generator():
    yield 1
    yield 2
    yield 3
```


‚Äî —á–µ—Ä–µ–∑ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–ª–∞—Å—Å —Å `__iter__()` –∏ `__next__()` (—Ä—É—á–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä)

```
class MyGenerator:
    def __init__(self, max_val):
        self.i = 0
        self.max_val = max_val

    def __iter__(self):
        return self  # –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä = –∏—Ç–µ—Ä–∞—Ç–æ—Ä

    def __next__(self):
        if self.i >= self.max_val:
            raise StopIteration
        value = self.i
        self.i += 1
        return value

```

‚ö° –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è (generator expressions)

–≠—Ç–æ **–∫–æ—Ä–æ—Ç–∫–∞—è –∑–∞–ø–∏—Å—å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞**, –æ—á–µ–Ω—å –ø–æ—Ö–æ–∂–∞—è –Ω–∞ **list comprehension**, —Ç–æ–ª—å–∫–æ **–±–µ–∑ —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –∑–Ω–∞—á–µ–Ω–∏–π –≤ –ø–∞–º—è—Ç–∏**.

‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—Å:
```
(x * 2 for x in range(5))
```
–≠—Ç–æ –Ω–µ —Å–ø–∏—Å–æ–∫, –∞ **–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä-–æ–±—ä–µ–∫—Ç**.

## üß† –û—Ç–ª–∏—á–∏—è –æ—Ç list comprehension:

|–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞|List comprehension|Generator expression|
|---|---|---|
|–°–∏–Ω—Ç–∞–∫—Å–∏—Å|`[x * 2 for x in range(5)]`|`(x * 2 for x in range(5))`|
|–•—Ä–∞–Ω–∏—Ç –≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è|‚úÖ|‚ùå|
|–ó–∞–Ω–∏–º–∞–µ—Ç –º–Ω–æ–≥–æ –ø–∞–º—è—Ç–∏|–î–∞|–ù–µ—Ç (—Ç–æ–ª—å–∫–æ 1 –∑–Ω–∞—á–µ–Ω–∏–µ)|
|–ë—ã—Å—Ç—Ä–µ–µ –ø—Ä–∏ –º–∞–ª—ã—Ö –æ–±—ä—ë–º–∞—Ö|–î–∞|–ù–µ–º–Ω–æ–≥–æ –º–µ–¥–ª–µ–Ω–Ω–µ–µ|
|–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö|‚ùå|‚úÖ|


## üß† –ß–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –∏—Ç–µ—Ä–∞—Ç–æ—Ä –æ—Ç –∏—Ç–µ—Ä–∏—Ä—É–µ–º–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞?

**–ò—Ç–µ—Ä–∏—Ä—É–µ–º—ã–π –æ–±—ä–µ–∫—Ç (iterable)** ‚Äî —ç—Ç–æ –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π _–º–æ–∂–Ω–æ_ –ø–µ—Ä–µ–±–∏—Ä–∞—Ç—å (—Å–ø–∏—Å–æ–∫, —Å—Ç—Ä–æ–∫–∞, —Å–ª–æ–≤–∞—Ä—å)

**–ò—Ç–µ—Ä–∞—Ç–æ—Ä (iterator)** ‚Äî —ç—Ç–æ –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π _–Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç_ —ç—Ç–æ—Ç –ø–µ—Ä–µ–±–æ—Ä, –∑–∞–ø–æ–º–∏–Ω–∞—è —Å–≤–æ—é —Ç–µ–∫—É—â—É—é –ø–æ–∑–∏—Ü–∏—é –∏ –≤—ã–¥–∞–≤–∞—è —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ –æ–¥–Ω–æ–º—É —á–µ—Ä–µ–∑ `next()`.


## üß† –ú–æ–∂–Ω–æ –ª–∏ –ø–µ—Ä–µ–±–∏—Ä–∞—Ç—å –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –∏—Ç–µ—Ä–∞—Ç–æ—Ä –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑? –ü–æ—á–µ–º—É?

–ù–∞ —Å–∞–º–æ–º –¥–µ–ª–µ **–Ω–µ—Ç, –Ω–µ–ª—å–∑—è** –ø–µ—Ä–µ–±—Ä–∞—Ç—å –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –∏—Ç–µ—Ä–∞—Ç–æ—Ä –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑.

**–ü–æ—á–µ–º—É?**

–ò—Ç–µ—Ä–∞—Ç–æ—Ä –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç —Å–≤–æ—é –ø–æ–∑–∏—Ü–∏—é –∏ "—Ä–∞—Å—Ö–æ–¥—É–µ—Ç—Å—è" –ø–æ –º–µ—Ä–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. –ö–æ–≥–¥–∞ —ç–ª–µ–º–µ–Ω—Ç—ã –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—Ç—Å—è, –∏—Ç–µ—Ä–∞—Ç–æ—Ä –æ—Å—Ç–∞–µ—Ç—Å—è "–ø—É—Å—Ç—ã–º" –∏ –Ω–µ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.


## –ö–∞–∫ —Å–¥–µ–ª–∞—Ç—å –∫–ª–∞—Å—Å –∏—Ç–µ—Ä–∏—Ä—É–µ–º—ã–º, –Ω–æ –Ω–µ –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–º?

–ö–ª–∞—Å—Å –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å —Ç–æ–ª—å–∫–æ –º–µ—Ç–æ–¥ `__iter__()`, –∫–æ—Ç–æ—Ä—ã–π **–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–π –∏—Ç–µ—Ä–∞—Ç–æ—Ä** (–∞ –Ω–µ `self`).

```
class MyIterable: 
	def __init__(self): 
		self.data = [1, 2, 3, 4, 5]
		 
	def __iter__(self): 
		return iter(self.data) # –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –æ—Ç–¥–µ–ª—å–Ω—ã–π –∏—Ç–µ—Ä–∞—Ç–æ—Ä —Å–ø–∏—Å–∫–∞
```



## –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä `yield` –∏ —á–µ–º –æ–Ω –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç `return`?

> `yield` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –ø—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –µ—ë –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ, –ø–æ–∑–≤–æ–ª—è—è –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å —Ç–æ–≥–æ –∂–µ –º–µ—Å—Ç–∞ –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –≤—ã–∑–æ–≤–µ, –≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç `return`, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –ø–æ–ª–Ω–æ—Å—Ç—å—é.
