**SQL-инъекция** (SQLi) – это уязвимость, позволяющая злоумышленнику вставить вредоносный фрагмент **SQL-кода** в запрос к базе данных.

Атака SQL-инъекции эксплуатирует недостаточную обработку входных данных. Злоумышленник передает в приложение специальную строку, которая изменяет смысл SQL-запроса

SELECT * FROM users WHERE username='' OR 1=1 --

В данном запросе `--` обозначает начало комментария, то есть часть после него (проверка пароля) игнорируется. Условие `1=1` всегда истинно, поэтому запрос вернет первую подходящую запись из таблицы **users**, фактически позволяя войти без пароля

**Union-based (классическая внутриполосная инъекция):** злоумышленник добавляет к исходному запросу оператор `UNION`, чтобы объединить результаты с данными из другой таблицы.

**Error-based (инъекция на основе ошибок):** атакующий намеренно вызывает ошибку базы данных, чтобы извлечь скрытые сведения

Методы защиты от SQL-инъекций

**Использовать параметризованные запросы (Prepared Statements):** вместо конкатенации строк SQL-запроса с пользовательским вводом применяются **подготовленные выражения** с _плейсхолдерами_

Python (библиотека `psycopg2` или `mysql-connector`):



## Частые вопросы на собеседованиях

Ниже приведены несколько вопросов, которые часто задают на собеседованиях, связанных с SQL-инъекциями, и краткие ответы на них:

- **Вопрос:** _Что такое SQL-инъекция и чем она опасна?_

**Ответ:** SQL-инъекция – это уязвимость веб-приложений, позволяющая внедрить в SQL-запрос злоумышленный код. Атака происходит через ввод данных (например, формы на сайте), которые интерпретируются как часть SQL-команды. Опасность в том, что атакующий может получить несанкционированный доступ

**Вопрос:** _Как защититься от SQL-инъекции?_

**Ответ:** Основные меры защиты: **параметризованные (подготовленные) запросы** вместо динамической подстановки строк (это гарантирует, что SQL-код отделен от данных и ввод не нарушит структуру запроса).