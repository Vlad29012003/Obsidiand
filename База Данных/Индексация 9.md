–ò–Ω–¥–µ–∫—Å—ã --- —è–≤–ª—è—é—Ç—å—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö , –∫–æ—Ç–æ—Ä—ã–µ —É—Å–∫–æ—Ä—è—é—Ç –ø–æ–∏—Å–∫ –∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ç–∞–±–ª–∏—Ü—ã
–û–Ω–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç —Å–æ–±–æ–π –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –∫–ª—é—á–∏ (–∑–Ω–∞—á–µ–Ω–∏—è **—Å—Ç–æ–ª–±—Ü–æ–≤**, –ø–æ –∫–æ—Ç–æ—Ä—ã–º –º—ã **–∏–Ω–¥–µ–∫—Å–∏—Ä—É–µ–º—Å—è**) –∏ **—É–∫–∞–∑–∞—Ç–µ–ª–∏ –Ω–∞ —Å—Ç—Ä–æ–∫–∏** –≤ —Ç–∞–±–ª–∏—Ü–µ, –≥–¥–µ —ç—Ç–∏ –∫–ª—é—á–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è.

–ò–Ω–¥–µ–∫—Å—ã –º–æ–≥—É—Ç —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ –ø–æ–≤—ã—Å–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å SQL-–∑–∞–ø—Ä–æ—Å–æ–≤, –Ω–æ –∏—Ö —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∏ —Ç–∞–∫–∂–µ **–≤–ª–∏—è—é—Ç –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π –≤—Å—Ç–∞–≤–∫–∏, –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ —É–¥–∞–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö**.

–û–Ω–∏ —Ö—Ä–∞–Ω—è—Ç –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –¥–∞–Ω–Ω—ã–µ –ø–æ –∫–æ—Ç–æ—Ä—ã–º –º—ã —Å –≤–∞–º–∏ —Ö–æ—Ç–∏–º –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å—Å—è –∏ —Å—Å—ã–ª–∫–∏ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —É–∫–∞–∑–∞—Ç–µ–ª–∏ 



## **–°–µ–ª–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏–Ω–¥–µ–∫—Å–∞**

üß† **–°–µ–ª–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏–Ω–¥–µ–∫—Å–∞ –≤ PostgreSQL** ‚Äî —ç—Ç–æ –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å —Ç–æ–≥–æ, –Ω–∞—Å–∫–æ–ª—å–∫–æ —Ö–æ—Ä–æ—à–æ –∏–Ω–¥–µ–∫—Å **–ø–æ–º–æ–≥–∞–µ—Ç —Å—É–∑–∏—Ç—å –∫—Ä—É–≥** –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Å—Ç—Ä–æ–∫, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∑–∞–ø—Ä–æ—Å–∞.  
–î—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, —Å–µ–ª–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –Ω–∞—Å–∫–æ–ª—å–∫–æ "–≤—ã–±–æ—Ä–æ—á–Ω—ã–º" –±—É–¥–µ—Ç –∑–∞–ø—Ä–æ—Å, –∫–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏–Ω–¥–µ–∫—Å.

### **–ü—Ä–æ—Å—Ç–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ:**

- **–í—ã—Å–æ–∫–∞—è —Å–µ–ª–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:**  
    –ï—Å–ª–∏ –∏–Ω–¥–µ–∫—Å –∏–º–µ–µ—Ç –≤—ã—Å–æ–∫—É—é —Å–µ–ª–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, —ç—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –ø–æ –∏–Ω–¥–µ–∫—Å—É –º–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –Ω–∞–π—Ç–∏ **—Ç–æ–ª—å–∫–æ –Ω–µ–±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫**, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –∑–∞–ø—Ä–æ—Å—É.
    
- **–ù–∏–∑–∫–∞—è —Å–µ–ª–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:**  
    –ï—Å–ª–∏ –∏–Ω–¥–µ–∫—Å –∏–º–µ–µ—Ç –Ω–∏–∑–∫—É—é —Å–µ–ª–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, —ç—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –∏–Ω–¥–µ–∫—Å —É–∫–∞–∂–µ—Ç –Ω–∞ **–±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫**, –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–∏–¥—ë—Ç—Å—è –≤—ã–±–∏—Ä–∞—Ç—å, –∏ PostgreSQL –º–æ–∂–µ—Ç —Ä–µ—à–∏—Ç—å **–Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω–¥–µ–∫—Å** –¥–ª—è —Ç–∞–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ ‚Äî —Ç–∞–∫ –∫–∞–∫ –ø–æ–ª–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä —Ç–∞–±–ª–∏—Ü—ã (**Seq Scan**) –º–æ–∂–µ—Ç –æ–∫–∞–∑–∞—Ç—å—Å—è –±—ã—Å—Ç—Ä–µ–µ.

### üîπ **1. –ò–Ω–¥–µ–∫—Å –Ω–∞ `user_id`:**

- –ö–∞–∂–¥—ã–π `user_id` —É–Ω–∏–∫–∞–ª–µ–Ω ‚Üí –∏–Ω–¥–µ–∫—Å –Ω–∞ —ç—Ç–æ–º —Å—Ç–æ–ª–±—Ü–µ –±—É–¥–µ—Ç –∏–º–µ—Ç—å **–≤—ã—Å–æ–∫—É—é —Å–µ–ª–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å**
- –ï—Å–ª–∏ –º—ã –∏—â–µ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ `user_id`, –∏–Ω–¥–µ–∫—Å **—Å—Ä–∞–∑—É —É–∫–∞–∂–µ—Ç –Ω–∞ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É**

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
`SELECT * FROM users WHERE user_id = 12345;`

üìå –≠—Ç–æ **–≤—ã—Å–æ–∫–æ—Å–µ–ª–µ–∫—Ç–∏–≤–Ω—ã–π** –∑–∞–ø—Ä–æ—Å ‚Äî –≤–µ—Ä–Ω—ë—Ç –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É, –∏–Ω–¥–µ–∫—Å –æ—Ç–ª–∏—á–Ω–æ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç.



### üî∏ **2. –ò–Ω–¥–µ–∫—Å –Ω–∞ `gender`:**

- –í —Å—Ç–æ–ª–±—Ü–µ `gender` –≤—Å–µ–≥–æ –¥–≤–∞ –∑–Ω–∞—á–µ–Ω–∏—è: `"male"` –∏ `"female"`
- –ó–∞–ø—Ä–æ—Å—ã –ø–æ —ç—Ç–æ–º—É –∏–Ω–¥–µ–∫—Å—É –º–æ–≥—É—Ç **–≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –ø–æ–ª–æ–≤–∏–Ω—É —Ç–∞–±–ª–∏—Ü—ã**
- –ü–æ—ç—Ç–æ–º—É –∏–Ω–¥–µ–∫—Å –Ω–∞ `gender` –∏–º–µ–µ—Ç **–Ω–∏–∑–∫—É—é —Å–µ–ª–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å**
    

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
`SELECT * FROM users WHERE gender = 'male';`

üìå –≠—Ç–æ **–Ω–∏–∑–∫–æ—Å–µ–ª–µ–∫—Ç–∏–≤–Ω—ã–π** –∑–∞–ø—Ä–æ—Å ‚Äî –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ **500‚ÄØ000 —Å—Ç—Ä–æ–∫**,  
–∏ PostgreSQL –º–æ–∂–µ—Ç **–Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω–¥–µ–∫—Å**, –∞ —Å–¥–µ–ª–∞—Ç—å `Seq Scan`, —Ç.–∫. —ç—Ç–æ –±—É–¥–µ—Ç –±—ã—Å—Ç—Ä–µ–µ

### üîπ **1. Explain Analyze –¥–ª—è `–∏–Ω–¥–µ–∫—Å–æ–≤`:**

## **–ü—Ä–∏–º–µ—Ä SQL-–∑–∞–ø—Ä–æ—Å–∞:**


`EXPLAIN ANALYZE SELECT * FROM users WHERE user_id = 123;`

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: "–ï—Å–ª–∏ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –∑–≤–µ–∑–¥–æ—á–∫—É –º—ã —É–≤–∏–¥–µ–º index scan –µ—Å—Ç—å –ø–æ user_id index only scan"

## **–í—ã–≤–æ–¥ `EXPLAIN ANALYZE`:**


`Index Scan using idx_user_id on users  (cost=0.14..8.16 rows=1)  
(actual time=0.021..0.024 rows=1 loops=1)   
Index Cond: (user_id = 123)   
Buffers: shared hit=2 
Planning Time: 0.098 ms 
Execution Time: 0.041 ms`

## **–ü–æ—è—Å–Ω–µ–Ω–∏–µ:**

- `Index Scan using idx_user_id on users` ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏–Ω–¥–µ–∫—Å `idx_user_id` –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ `user_id = 123`
    
- –≠—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç –æ —Ç–æ–º, —á—Ç–æ PostgreSQL **–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–Ω–¥–µ–∫—Å** –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞

Index Only Scan --- –ø—Ä–æ—Å—Ç–æ –∏–∑ –∏–Ω–¥–µ–∫—Å–∞ –¥–∞–Ω–Ω—ã–µ –≤–æ–∑–≤—Ä–∞—â—è–µ—Ç 
Index Scan --- –æ–Ω –∏–¥–µ—Ç –∏ –¥–ª—è –∫–∞–∂–¥–æ–π –∑–∞–ø–∏—Å–∏ –∏–∑ –∏–Ω–¥–µ–∫—Å–∞ –Ω–∞—á–∏—Ç—ã–≤–∞–µ—Ç –∏—Ö –∏–∑ —Ç–∞–±–ª–∏—Ü—ã 



## **–¢–∏–ø—ã –ò–Ω–¥–µ–∫—Å–æ–≤:**

1) B-–¥–µ—Ä–µ–≤–æ –∏–Ω–¥–µ–∫—Å (B-Tree Index):
–í-–¥–µ—Ä–µ–≤–æ -- —ç—Ç–æ –Ω–∞–∏–±–æ–ª–µ–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–π —Ç–∏–ø –∏–Ω–¥–µ–∫—Å–∞ –≤ PostgreSQL –∏ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ä–∞–≤–µ–Ω—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∏ –¥–∏–∞–ø–∞–∑–æ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.

 –ò–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∏—Å–µ–ª —Å—Ç—Ä–æ–∫ –∏ –¥—Ä—É–≥–∏—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏

2) –•–µ—à-–∏–Ω–¥–µ–∫—Å (Hash index)
–û–ø–∏—Å–∞–Ω–∏–µ: –•–µ—à –∏–Ω–¥–µ–∫—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –∑–Ω–∞—á–µ–Ω–∏–π. –û–Ω –±—ã—Å—Ç—Ä–æ –Ω–∞—Ö–æ–¥–∏—Ç —Ç–æ—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è , –Ω–æ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–∏–∞–ø–∞–∑–æ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã.

3) Gin- –∏–Ω–¥–µ–∫—Å (Generalized inverted index)
–û–ø–∏—Å–∞–Ω–∏–µ: Gin - –∏–Ω–¥–µ–∫—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—å—Å—è –¥–ª—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ —Å–æ—Å—Ç–∞–≤–Ω—ã—Ö (–º–∞—Å—Å–∏–≤–æ–≤ , Json)


4) Brin - –∏–Ω–¥–µ–∫—Å (Block Range indexes)
–û–ø–∏—Å–∞–Ω–∏–µ: BRIN - –∏–Ω–¥–µ–∫—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ –±–æ–ª—å—à–∏—Ö —Ç–∞–±–ª–∏—Ü —Å —á–∏—Å–ª–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏ –ø–æ–º–æ–≥–∞–µ—Ç —É—Å–∫–æ—Ä–∏—Ç—å –¥–∏–∞–ø–∞–∑–æ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã.

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –ò–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –±–æ–ª—å—à–∏—Ö –æ–±—å–µ–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö —Å —á–∏—Å–ª–æ–≤—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ —Ç–∞–∫–∏–º–∏ –∫–∞–∫ –¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è.


üîπ **–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –≤–æ–ø—Ä–æ—Å: B-Tree –∏–Ω–¥–µ–∫—Å –∏ Hash –∏–Ω–¥–µ–∫—Å ‚Äî —Å—Ä–∞–≤–Ω–∏—Ç—å –∏ –≤—ã–±—Ä–∞—Ç—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**

### **B-Tree –∏–Ω–¥–µ–∫—Å:**

1. **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:**  
    B-Tree –∏–Ω–¥–µ–∫—Å –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ —Ä–∞–≤–µ–Ω—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∏ –¥–∏–∞–ø–∞–∑–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö —Å—Ä–∞–≤–Ω–µ–Ω–∏—è  
    (–Ω–∞–ø—Ä–∏–º–µ—Ä: `=`, `<`, `>`, `BETWEEN`).
    
2. **–ü–æ–∏—Å–∫:**  
    B-Tree –∏–Ω–¥–µ–∫—Å –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –ø–æ–∏—Å–∫ –¥–∞–Ω–Ω—ã—Ö, –æ—Å–æ–±–µ–Ω–Ω–æ –∫–æ–≥–¥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ.  
    –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è ‚Äî **logN**.
    
3. **–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞:**  
    B-Tree –∏–Ω–¥–µ–∫—Å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –¥–∞–Ω–Ω—ã—Ö –∏ —É—Å–∫–æ—Ä—è–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π `ORDER BY`.
    
4. **–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**  
    –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è —Å—Ç–æ–ª–±—Ü–æ–≤, —Å–æ–¥–µ—Ä–∂–∞—â–∏—Ö —á–∏—Å–ª–æ–≤—ã–µ –∏ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ, –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã, –¥–∞—Ç—ã –∏ –≤—Ä–µ–º—è,  
    –∞ —Ç–∞–∫–∂–µ –¥—Ä—É–≥–∏–µ –¥–∞–Ω–Ω—ã–µ, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è—Ö –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–µ.

## –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã B-Tree –∏–Ω–¥–µ–∫—Å–∞

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ –∏–Ω–¥–µ–∫—Å –∫–∞–∫ –¥–µ—Ä–µ–≤–æ:

```
                [M]
               /   \
          [D,G]     [S,W]
         /  |  \   /  |  \
    [A,C] [E,F] [H,L] [N,R] [T,V] [X,Z]
```

–ü–æ–∏—Å–∫ "John":

1. –ù–∞—á–∏–Ω–∞–µ–º —Å –∫–æ—Ä–Ω—è [M] - "J" < "M", –∏–¥–µ–º –≤–ª–µ–≤–æ
2. –£–∑–µ–ª [D,G] - "D" < "J" < "M", –∏–¥–µ–º –≤ —Å—Ä–µ–¥–Ω–∏–π —É–∑–µ–ª
3. –£–∑–µ–ª [H,L] - –Ω–∞—Ö–æ–¥–∏–º –¥–∏–∞–ø–∞–∑–æ–Ω —Å "J"


### **Hash –∏–Ω–¥–µ–∫—Å:**

1. **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:**  
    Hash –∏–Ω–¥–µ–∫—Å –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö, –∫–æ–≥–¥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è **–±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ —Ç–æ—á–Ω–æ–≥–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è**  
    (—Ä–∞–≤–µ–Ω—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏).
    
2. **–ü–æ–∏—Å–∫:**  
    Hash –∏–Ω–¥–µ–∫—Å –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–æ–∏—Å–∫ –¥–∞–Ω–Ω—ã—Ö –∑–∞ **–ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ –≤—Ä–µ–º—è (O(1))** –¥–ª—è —Ç–æ—á–Ω—ã—Ö —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π.
    
3. **–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞:**  
    Hash –∏–Ω–¥–µ–∫—Å **–Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –¥–∞–Ω–Ω—ã—Ö** –∏ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –¥–ª—è `ORDER BY`.


## **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å B-Tree –∏–Ω–¥–µ–∫—Å:**

- –ö–æ–≥–¥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–æ–ª–±—Ü—ã –¥–ª—è **–ø–æ–∏—Å–∫–∞ –ø–æ —Ç–æ—á–Ω–æ–º—É –∑–Ω–∞—á–µ–Ω–∏—é –∏–ª–∏ –¥–∏–∞–ø–∞–∑–æ–Ω—É –∑–Ω–∞—á–µ–Ω–∏–π**.
- –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–∞ **–ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö**.
- –ö–æ–≥–¥–∞ –∏–Ω–¥–µ–∫—Å–∏—Ä—É–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ **–∏–º–µ—é—Ç –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –∑–Ω–∞—á–µ–Ω–∏—è**.

**–ú–∏–Ω—É—Å—ã:**

- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –º–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ (–æ–±—ã—á–Ω–æ 10-20% –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã)
- –ó–∞–º–µ–¥–ª–µ–Ω–∏–µ INSERT/UPDATE/DELETE –æ–ø–µ—Ä–∞—Ü–∏–π
- –ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏

## üìå **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Hash –∏–Ω–¥–µ–∫—Å:**

- –ö–æ–≥–¥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–æ–ª–±—Ü—ã –¥–ª—è **—Ç–æ—á–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –∏–ª–∏ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏—è–º**.
- –ö–æ–≥–¥–∞ –∑–∞–ø—Ä–æ—Å—ã **–æ—Å–Ω–æ–≤–∞–Ω—ã –Ω–∞ —Ä–∞–≤–µ–Ω—Å—Ç–≤–µ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö** –∏ **–Ω–µ —Ç—Ä–µ–±—É—é—Ç —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –∏–ª–∏ –¥–∏–∞–ø–∞–∑–æ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤**
- –ö–æ–≥–¥–∞ **—Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–º–µ–µ—Ç —Å–º—ã—Å–ª**, –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø–æ —Ö–µ—à-–∫–æ–¥—É.

## üìå **–ø–æ—á–µ–º—É –∏–¥–µ—Ç –∑–∞–º–µ–¥–ª–µ–Ω–∏–µ –Ω–∞ INSERT/UPDATE/DELETE:**

–û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! –ó–∞–º–µ–¥–ª–µ–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Ç–æ–º—É, —á—Ç–æ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö –≤ —Ç–∞–±–ª–∏—Ü–µ –Ω—É–∂–Ω–æ **—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –≤—Å–µ –∏–Ω–¥–µ–∫—Å—ã**.

### INSERT - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏
```sql
INSERT INTO users (id, email, age) VALUES (1001, 'new@user.com', 25);
```

- –ü—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–ª—è–µ–º —Å—Ç—Ä–æ–∫—É –≤ –∫–æ–Ω–µ—Ü —Ç–∞–±–ª–∏—Ü—ã
- –û–¥–Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏—è –∑–∞–ø–∏—Å–∏

**–° –∏–Ω–¥–µ–∫—Å–∞–º–∏:**
```sql
-- –£ –Ω–∞—Å –µ—Å—Ç—å –∏–Ω–¥–µ–∫—Å—ã: idx_email, idx_age, idx_email_age
INSERT INTO users (id, email, age) VALUES (1001, 'new@user.com', 25);
```

–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–æ–ª–∂–Ω–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç—å:

1. **–î–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–æ–∫—É –≤ —Ç–∞–±–ª–∏—Ü—É** (–æ—Å–Ω–æ–≤–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è)
2. **–û–±–Ω–æ–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å idx_email**: –Ω–∞–π—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –º–µ—Å—Ç–æ –¥–ª—è '[new@user.com](mailto:new@user.com)' –≤ B-Tree –∏ –≤—Å—Ç–∞–≤–∏—Ç—å
3. **–û–±–Ω–æ–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å idx_age**: –Ω–∞–π—Ç–∏ –º–µ—Å—Ç–æ –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏—è 25
4. **–û–±–Ω–æ–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å idx_email_age**: –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–º–±–∏–Ω–∞—Ü–∏—é ('[new@user.com](mailto:new@user.com)', 25)


### UPDATE: —Å–∞–º—ã–π —Å–ª–æ–∂–Ω—ã–π —Å–ª—É—á–∞–π

```sql
UPDATE users SET email = 'changed@email.com' WHERE id = 1001;
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**

1. **–ù–∞–π—Ç–∏ –∑–∞–ø–∏—Å—å** (–∏—Å–ø–æ–ª—å–∑—É—è –∏–Ω–¥–µ–∫—Å –ø–æ id)
2. **–£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ** –∏–∑ –∏–Ω–¥–µ–∫—Å–∞ idx_email
3. **–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ** –≤ –∏–Ω–¥–µ–∫—Å idx_email
4. **–û–±–Ω–æ–≤–∏—Ç—å —Å–æ—Å—Ç–∞–≤–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã** –≥–¥–µ —É—á–∞—Å—Ç–≤—É–µ—Ç email


5. **–û–±–Ω–æ–≤–∏—Ç—å —Å–æ—Å—Ç–∞–≤–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã** –≥–¥–µ —É—á–∞—Å—Ç–≤—É–µ—Ç email

```
–ü—Ä–∏–º–µ—Ä UPDATE —Å 3 –∏–Ω–¥–µ–∫—Å–∞–º–∏:
- idx_email: —É–¥–∞–ª–∏—Ç—å 'old@email.com' + –¥–æ–±–∞–≤–∏—Ç—å 'changed@email.com'
- idx_age_email: —É–¥–∞–ª–∏—Ç—å (25, 'old@email.com') + –¥–æ–±–∞–≤–∏—Ç—å (25, 'changed@email.com')
- idx_created_email: –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ

–ò—Ç–æ–≥–æ: 6 –æ–ø–µ—Ä–∞—Ü–∏–π —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏ + 1 –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã = 7 –æ–ø–µ—Ä–∞—Ü–∏–π
```


### –ü—Ä–∏–º–µ—Ä UPDATE: –û–ø–µ—Ä–∞—Ü–∏–∏ 

## –°—Ü–µ–Ω–∞—Ä–∏–π 1: UPDATE –æ–¥–Ω–æ–≥–æ –∏–Ω–¥–µ–∫—Å–∏—Ä—É–µ–º–æ–≥–æ –ø–æ–ª—è

```sql
UPDATE users SET lastname = '–ü–µ—Ç—Ä–æ–≤' WHERE id = 123;
```

### –ü–æ—à–∞–≥–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏:

**–®–∞–≥ 1: –ü–æ–∏—Å–∫ –∑–∞–ø–∏—Å–∏**

```
–ò—Å–ø–æ–ª—å–∑—É–µ–º PRIMARY KEY –∏–Ω–¥–µ–∫—Å (idx_id)
–ü–æ–∏—Å–∫ id=123 ‚Üí –Ω–∞—Ö–æ–¥–∏–º –∑–∞–ø–∏—Å—å –∑–∞ log(n) –æ–ø–µ—Ä–∞—Ü–∏–π
```

**–®–∞–≥ 2: –ê–Ω–∞–ª–∏–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π**

```
–ò–∑–º–µ–Ω—è–µ–º—ã–µ –ø–æ–ª—è: lastname ('–ò–≤–∞–Ω–æ–≤' ‚Üí '–ü–µ—Ç—Ä–æ–≤')
–ó–∞—Ç—Ä–∞–≥–∏–≤–∞–µ–º—ã–µ –∏–Ω–¥–µ–∫—Å—ã: —Ç–æ–ª—å–∫–æ idx_lastname
–ù–ï –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ–º—ã–µ: idx_firstname (firstname –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è)
```

**–®–∞–≥ 3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ idx_lastname**

```
–£–î–ê–õ–ï–ù–ò–ï —Å—Ç–∞—Ä–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è:
B-Tree idx_lastname: –Ω–∞–π—Ç–∏ '–ò–≤–∞–Ω–æ–≤' ‚Üí —É–¥–∞–ª–∏—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ row_id=123

–î–û:  [..., '–ò–≤–∞–Ω–æ–≤'‚Üí123, '–ö–æ–∑–ª–æ–≤'‚Üí456, ...]
–ü–û–°–õ–ï: [..., '–ö–æ–∑–ª–æ–≤'‚Üí456, ...] (–∑–∞–ø–∏—Å—å —Å '–ò–≤–∞–Ω–æ–≤' —É–¥–∞–ª–µ–Ω–∞)
```

**–®–∞–≥ 4: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ —Ç–∞–±–ª–∏—Ü–µ**

```
–°—Ç—Ä–æ–∫–∞ —Ç–∞–±–ª–∏—Ü—ã:
–î–û:  id=123, lastname='–ò–≤–∞–Ω–æ–≤', firstname='–ü–µ—Ç—Ä', age=30
–ü–û–°–õ–ï: id=123, lastname='–ü–µ—Ç—Ä–æ–≤', firstname='–ü–µ—Ç—Ä', age=30
```

**–®–∞–≥ 5: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ idx_lastname**

```
–î–û–ë–ê–í–õ–ï–ù–ò–ï –Ω–æ–≤–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è:
B-Tree idx_lastname: –Ω–∞–π—Ç–∏ –º–µ—Å—Ç–æ –¥–ª—è '–ü–µ—Ç—Ä–æ–≤' ‚Üí –≤—Å—Ç–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ row_id=123

–ü–û–°–õ–ï: [..., '–ü–µ—Ç—Ä–æ–≤'‚Üí123, '–°–∏–¥–æ—Ä–æ–≤'‚Üí789, ...]
```

**–ò—Ç–æ–≥–æ –æ–ø–µ—Ä–∞—Ü–∏–π:**

- –ü–æ–∏—Å–∫: 1 –æ–ø–µ—Ä–∞—Ü–∏—è (—á–µ—Ä–µ–∑ PRIMARY KEY)
- –ò–Ω–¥–µ–∫—Å idx_lastname: 2 –æ–ø–µ—Ä–∞—Ü–∏–∏ (—É–¥–∞–ª–µ–Ω–∏–µ + –≤—Å—Ç–∞–≤–∫–∞)
- –ò–Ω–¥–µ–∫—Å idx_firstname: 0 –æ–ø–µ—Ä–∞—Ü–∏–π (–Ω–µ –∑–∞—Ç—Ä–æ–Ω—É—Ç)
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏: 1 –æ–ø–µ—Ä–∞—Ü–∏—è
- **–í—Å–µ–≥–æ: 4 –æ–ø–µ—Ä–∞—Ü–∏–∏**



## –°—Ü–µ–Ω–∞—Ä–∏–π 2: UPDATE –¥–≤—É—Ö –∏–Ω–¥–µ–∫—Å–∏—Ä—É–µ–º—ã—Ö –ø–æ–ª–µ–π

```sql
UPDATE users SET lastname = '–°–∏–¥–æ—Ä–æ–≤', firstname = '–ê–ª–µ–∫—Å–µ–π' WHERE id = 123;
```

### –î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å:

**–®–∞–≥ 1: –ü–æ–∏—Å–∫** (–∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É)

```
PRIMARY KEY –ø–æ–∏—Å–∫ id=123 ‚Üí 1 –æ–ø–µ—Ä–∞—Ü–∏—è
```

**–®–∞–≥ 2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ idx_lastname**

```
–£–î–ê–õ–ï–ù–ò–ï: '–ü–µ—Ç—Ä–æ–≤' ‚Üí 123 –∏–∑ B-Tree idx_lastname
- –ü–æ–∏—Å–∫ —É–∑–ª–∞ —Å '–ü–µ—Ç—Ä–æ–≤': ~log(n) –æ–ø–µ—Ä–∞—Ü–∏–π —á—Ç–µ–Ω–∏—è
- –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏: 1 –æ–ø–µ—Ä–∞—Ü–∏—è –∑–∞–ø–∏—Å–∏

B-Tree –î–û:  [..., '–ü–µ—Ç—Ä–æ–≤'‚Üí123, '–°–∏–¥–æ—Ä–æ–≤'‚Üí789, ...]
B-Tree –ü–û–°–õ–ï: [..., '–°–∏–¥–æ—Ä–æ–≤'‚Üí789, ...] ('–ü–µ—Ç—Ä–æ–≤' —É–¥–∞–ª–µ–Ω)
```

**–®–∞–≥ 3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ idx_firstname**

```
–£–î–ê–õ–ï–ù–ò–ï: '–ü–µ—Ç—Ä' ‚Üí 123 –∏–∑ B-Tree idx_firstname
- –ü–æ–∏—Å–∫ —É–∑–ª–∞ —Å '–ü–µ—Ç—Ä': ~log(n) –æ–ø–µ—Ä–∞—Ü–∏–π —á—Ç–µ–Ω–∏—è  
- –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏: 1 –æ–ø–µ—Ä–∞—Ü–∏—è –∑–∞–ø–∏—Å–∏

B-Tree –î–û:  [..., '–ü–µ—Ç—Ä'‚Üí123, '–°–µ—Ä–≥–µ–π'‚Üí456, ...]
B-Tree –ü–û–°–õ–ï: [..., '–°–µ—Ä–≥–µ–π'‚Üí456, ...] ('–ü–µ—Ç—Ä' —É–¥–∞–ª–µ–Ω)
```

**–®–∞–≥ 4: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã**

```
–î–û:  id=123, lastname='–ü–µ—Ç—Ä–æ–≤', firstname='–ü–µ—Ç—Ä', age=30
–ü–û–°–õ–ï: id=123, lastname='–°–∏–¥–æ—Ä–æ–≤', firstname='–ê–ª–µ–∫—Å–µ–π', age=30
```

**–®–∞–≥ 5: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ idx_lastname**

```
–î–û–ë–ê–í–õ–ï–ù–ò–ï: '–°–∏–¥–æ—Ä–æ–≤' ‚Üí 123 –≤ B-Tree idx_lastname
- –ü–æ–∏—Å–∫ –º–µ—Å—Ç–∞ –¥–ª—è '–°–∏–¥–æ—Ä–æ–≤': ~log(n) –æ–ø–µ—Ä–∞—Ü–∏–π —á—Ç–µ–Ω–∏—è
- –í—Å—Ç–∞–≤–∫–∞ –∑–∞–ø–∏—Å–∏: 1-3 –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞–ø–∏—Å–∏ (–º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —É–∑–ª–∞)

B-Tree –ü–û–°–õ–ï: [..., '–°–∏–¥–æ—Ä–æ–≤'‚Üí123, '–°–∏–¥–æ—Ä–æ–≤'‚Üí789, ...] (–¥–≤–∞ –°–∏–¥–æ—Ä–æ–≤–∞)
```

**–®–∞–≥ 6: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ idx_firstname**

```
–î–û–ë–ê–í–õ–ï–ù–ò–ï: '–ê–ª–µ–∫—Å–µ–π' ‚Üí 123 –≤ B-Tree idx_firstname
- –ü–æ–∏—Å–∫ –º–µ—Å—Ç–∞ –¥–ª—è '–ê–ª–µ–∫—Å–µ–π': ~log(n) –æ–ø–µ—Ä–∞—Ü–∏–π —á—Ç–µ–Ω–∏—è
- –í—Å—Ç–∞–≤–∫–∞ –∑–∞–ø–∏—Å–∏: 1-3 –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞–ø–∏—Å–∏

B-Tree –ü–û–°–õ–ï: [..., '–ê–ª–µ–∫—Å–µ–π'‚Üí123, '–°–µ—Ä–≥–µ–π'‚Üí456, ...]
```

**–ò—Ç–æ–≥–æ –æ–ø–µ—Ä–∞—Ü–∏–π:**

- –ü–æ–∏—Å–∫: 1 –æ–ø–µ—Ä–∞—Ü–∏—è
- idx_lastname: ~log(n)+3 –æ–ø–µ—Ä–∞—Ü–∏–∏ (–ø–æ–∏—Å–∫+—É–¥–∞–ª–µ–Ω–∏–µ+–ø–æ–∏—Å–∫+–≤—Å—Ç–∞–≤–∫–∞)
- idx_firstname: ~log(n)+3 –æ–ø–µ—Ä–∞—Ü–∏–∏ (–ø–æ–∏—Å–∫+—É–¥–∞–ª–µ–Ω–∏–µ+–ø–æ–∏—Å–∫+–≤—Å—Ç–∞–≤–∫–∞)
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏: 1 –æ–ø–µ—Ä–∞—Ü–∏—è
- **–í—Å–µ–≥–æ: ~2√ólog(n)+7 –æ–ø–µ—Ä–∞—Ü–∏–π**


## üìå **–°–æ—Å—Ç–∞–≤–Ω–æ–π –∏–Ω–¥–µ–∫—Å:**

–°–æ—Å—Ç–∞–≤–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã (–∏–ª–∏ –º–Ω–æ–≥–æ–∫–æ–ª–æ–Ω–∫–æ–≤—ã–µ –∏–Ω–¥–µ–∫—Å—ã) -- —ç—Ç–æ –∏–Ω–¥–µ–∫—Å—ã , –∫–æ—Ç–æ—Ä—ã–µ –≤–∫–ª—é—á–∞—é—Ç –±–æ–ª–µ–µ –æ–¥–Ω–æ–≥–æ —Å—Ç–æ–ª–±—Ü–∞ —Ç–∞–±–ª–∏—Ü—ã.

## üìå **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Å–æ—Å—Ç–∞–≤–Ω—ã—Ö –∏–Ω–¥–µ–∫—Å–æ–≤:**

1) –£–ª—É—á—à–µ–Ω–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤: –ò–Ω–¥–µ–∫—Å—ã —É—Å–∫–æ—Ä—è—é—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ , –∫–æ—Ç–æ—Ä—ã–µ —Ñ–∏–ª—å—Ç—Ä—É—é—Ç –∏–ª–∏ —Å–æ—Ä—Ç–∏—Ä—É—é—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º —Å—Ç–æ–ª–±—Ü–∞–º

2) –ü–æ–∫—Ä—ã—Ç–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤: –°–æ—Å—Ç–∞–≤–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã –º–æ–≥—É—Ç –ø–æ–∫—Ä—ã–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã , —Ç–æ –µ—Å—Ç—å —Å–æ–¥–µ—Ä–∂–∞—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ , –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞, –±–µ–∑ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ. 

### üìå –ó–∞–≥–æ–ª–æ–≤–æ–∫:

**"–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–æ—Å—Ç–∞–≤–Ω–æ–π –∏–Ω–¥–µ–∫—Å"**  
**"–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –∑–∞–ø—Ä–æ—Å–µ"**

### üìã SQL-–∑–∞–ø—Ä–æ—Å:

`SELECT * FROM orders
 WHERE customer_id = 123 
 ORDER BY order_date DESC;

 `
 –í —ç—Ç–æ–º —â–∞–ø—Ä–æ—Å–µ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å–æ—Å—Ç–∞–≤–Ω–æ–π –∏–Ω–ª–µ–∫—Å idx_customer_order_date,  —á—Ç–æ–±—ã –±—ã—Å—Ç—Ä–æ –Ω–∞–π—Ç–∏ –≤—Å–µ –∑–∞–∫–∞–∑—ã –∫–ª–∏–µ–Ω—Ç–∞ —Å customer_id = 123 –∏ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –ø–æ order_date

> **–ü–æ—Ä—è–¥–æ–∫ –∫–æ–ª–æ–Ω–æ–∫ –≤ —Å–æ—Å—Ç–∞–≤–Ω–æ–º –∏–Ω–¥–µ–∫—Å–µ –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ.**  
> –ï—Å–ª–∏ –∏–Ω–¥–µ–∫—Å `(customer_id, order_date)` ‚Äî –æ–Ω –±—É–¥–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω –ø—Ä–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ `customer_id` –∏–ª–∏ `customer_id + order_date`,  
> –Ω–æ **–Ω–µ –±—É–¥–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω**, –µ—Å–ª–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏–¥—ë—Ç **—Ç–æ–ª—å–∫–æ –ø–æ `order_date`**.




MVCC (Multi-Version Concurrency Control) ‚Äî —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–º –¥–æ—Å—Ç—É–ø–æ–º –∫ –¥–∞–Ω–Ω—ã–º –≤ –±–∞–∑–∞—Ö –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–∏–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –¥–∞–Ω–Ω—ã–º–∏ –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –¥–ª—è —á—Ç–µ–Ω–∏—è.


## üìå **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Å–æ—Å—Ç–∞–≤–Ω—ã—Ö –∏–Ω–¥–µ–∫—Å–æ–≤:**

–°–æ–∑–¥–∞–Ω–∏–µ —Å–æ—Å—Ç–∞–≤–Ω–æ–≥–æ –∏–Ω–¥–µ–∫—Å–∞

``sql
CREATE INDEX idx_customer_order_date ON orders (customer_id, order_date) WHERE orders.is_active is TRUE;

–≠—Ç–æ—Ç –∏–Ω–¥–µ–∫—Å –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ , –∫–æ—Ç–æ—Ä—ã–µ —Ñ–∏–ª—å—Ç—Ä—É—é—Ç –∏–ª —Å–æ—Ä—Ç–∏—Ä—É—é—Ç –ø–æ customer_id –∏ order_date 



### üìå –ó–∞–≥–æ–ª–æ–≤–æ–∫:

**"–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–æ—Å—Ç–∞–≤–Ω–æ–π –∏–Ω–¥–µ–∫—Å"**  
**"–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –∑–∞–ø—Ä–æ—Å–µ"**

### üìã SQL-–∑–∞–ø—Ä–æ—Å:

`SELECT * FROM orders
 WHERE customer_id = 123 
 ORDER BY order_date DESC;

 `
 –í —ç—Ç–æ–º —â–∞–ø—Ä–æ—Å–µ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å–æ—Å—Ç–∞–≤–Ω–æ–π –∏–Ω–ª–µ–∫—Å idx_customer_order_date,  —á—Ç–æ–±—ã –±—ã—Å—Ç—Ä–æ –Ω–∞–π—Ç–∏ –≤—Å–µ –∑–∞–∫–∞–∑—ã –∫–ª–∏–µ–Ω—Ç–∞ —Å customer_id = 123 –∏ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –ø–æ order_date

> **–ü–æ—Ä—è–¥–æ–∫ –∫–æ–ª–æ–Ω–æ–∫ –≤ —Å–æ—Å—Ç–∞–≤–Ω–æ–º –∏–Ω–¥–µ–∫—Å–µ –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ.**  
> –ï—Å–ª–∏ –∏–Ω–¥–µ–∫—Å `(customer_id, order_date)` ‚Äî –æ–Ω –±—É–¥–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω –ø—Ä–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ `customer_id` –∏–ª–∏ `customer_id + order_date`,  
> –Ω–æ **–Ω–µ –±—É–¥–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω**, –µ—Å–ª–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏–¥—ë—Ç **—Ç–æ–ª—å–∫–æ –ø–æ `order_date`**.